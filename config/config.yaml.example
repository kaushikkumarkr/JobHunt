# General Configuration
project_name: "us-tech-job-finder"
version: "1.0.0"

# Scheduling
schedule_cron: "0 * * * *"  # Hourly

# Storage
storage:
  google_sheets:
    enabled: true
    sheet_name: "Tech Job Leads"  # The name of the spreadsheet
    credentials_path: "service_account.json" # Relative to project root
    tabs:
      leads: "leads"
      # seen_ids: "seen_ids" # Removed for single-sheet simplicity
      # applied_tracker: "applied_tracker"
      # llm_cache: "llm_cache"

# Sources
sources:
  ats_scrapers:
    enabled: true 
    # Direct scraping of high-value career pages (Greenhouse/Lever)
    # This runs PARALLEL to Google Search.
    targets:
      # --- Verified Direct Boards ---
      - name: "Stripe"
        url: "https://boards.greenhouse.io/stripe"
        type: "greenhouse"
      - name: "Discord"
        url: "https://boards.greenhouse.io/discord"
        type: "greenhouse"
      - name: "Figma"
        url: "https://boards.greenhouse.io/figma"
        type: "greenhouse"
      - name: "Anduril"
        url: "https://boards.greenhouse.io/andurilindustries"
        type: "greenhouse"
      - name: "Scale AI"
        url: "https://boards.greenhouse.io/scaleai"
        type: "greenhouse"
      - name: "Databricks"
        url: "https://boards.greenhouse.io/databricks"
        type: "greenhouse"
      - name: "Notion"
        url: "https://boards.greenhouse.io/notion"
        type: "greenhouse"
      - name: "Lyft"
        url: "https://boards.greenhouse.io/lyft"
        type: "greenhouse"
      - name: "DoorDash"
        url: "https://boards.greenhouse.io/doordash"
        type: "greenhouse"
      - name: "Plaid"
        url: "https://boards.greenhouse.io/plaid"
        type: "greenhouse"
      - name: "Brex"
        url: "https://boards.greenhouse.io/brex"
        type: "greenhouse"
      - name: "Vercel"
        url: "https://boards.greenhouse.io/vercel"
        type: "greenhouse"
      - name: "Replit"
        url: "https://boards.greenhouse.io/replit"
        type: "greenhouse"
      
      # --- Requires Custom Scraper / URL Discovery (Commented out to prevent 404s) ---
      # - name: "OpenAI" (Custom Page)
      #   url: "https://openai.com/careers"
      #   type: "custom"
      # - name: "Anthropic" (Custom Page)
      #   url: "https://anthropic.com/careers" 
      #   type: "custom"
      # - name: "Airbnb"
      #   url: "https://careers.airbnb.com/positions/"
      #   type: "greenhouse"
    
  gmail_ingest:
    enabled: true
    label: "Job Alerts"
    
  google_search:
    enabled: true
    # The roles you want to search for
    roles:
      - "AI Engineer"
      - "Generative AI Engineer"
      - "Data Scientist"
      - "Data Analyst"
      - "Machine Learning Engineer"
    # The location to append to queries
    location: "United States"
    
  # The following lines were part of the original gmail_ingest and seem to have been
  # mistakenly included in the google_search snippet provided in the instruction.
  # They are kept here under gmail_ingest to preserve original functionality,
  # as the instruction was to *add* google_search, not modify gmail_ingest's core config.
  # If these lines were intended to be removed from gmail_ingest, please provide a specific instruction for that.
  # user_email: "your_email@gmail.com" # For logging/filtering
  # credentials_path: "gmail_credentials.json"
  # search_query: "from:(linkedin.com OR indeed.com) subject:(job alert OR new jobs)"

# Filters
filters:
  clean_architecture: true # Enforce strict structure
  
  geo:
    allowed_countries: ["USA"]
    include_remote_us: true
    
  roles:
    match_score_threshold: 0.1
    tech_role_categories:
      - backend
      - frontend
      - fullstack
      - data
      - ml-ai
      - devops-sre
      - security
      - mobile
      - qa-automation
      - technical-support-engineer
      - product
      - business
      
    include_keywords:
      - ai engineer
      - generative ai
      - llm
      - machine learning
      - deep learning
      - data scientist
      - data analyst
      - data engineer
      - nlp
      - computer vision
      - pytorch
      - tensorflow
      - transformer
      - rag
      - python
      - sql
      
    exclude_keywords:
      - sales
      - sdr
      - bdr
      - marketing
      - hr
      - recruiter
      - finance
      - nurse
      - teacher
      - customer support
      - customer success
      - account executive
      - legal
      - administrative

# LLM
llm:
  enabled: true
  global_run_budget: 30 # Max calls per hourly run
  max_output_tokens: 250
  
  # Rotation policy defined in config for flexibility
  providers:
    - name: "groq"
      models: ["llama-3.1-70b-versatile", "llama-3.1-8b-instant"]
    - name: "openrouter"
      models: ["anthropic/claude-3-haiku", "google/gemini-flash-1.5"]
    - name: "huggingface"
      models: ["mistralai/Mixtral-8x7B-Instruct-v0.1"]

# Notifications
notifications:
  telegram:
    enabled: false
    
  discord:
    enabled: true
    webhook_url_env_var: "DISCORD_WEBHOOK_URL"
    alert_threshold: 0.85

  email:
    enabled: true
    sender_user: "your_email@gmail.com"  # Usually same as gmail_ingest if sending via Gmail API
    recipient_email: "your_email@gmail.com"
